{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":""}},"security":[{"x-api-key":[]},{"x-channel":[]}],"tags":["App"]}},"/health/basic":{"get":{"operationId":"HealthController_healthCheck","parameters":[],"responses":{"200":{"description":"The Health Check is successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}},"503":{"description":"The Health Check is not successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"error"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"},"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}}},"tags":["System Health Monitoring"]}},"/health/memory":{"get":{"operationId":"HealthController_memoryCheck","parameters":[],"responses":{"200":{"description":"The Health Check is successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}},"503":{"description":"The Health Check is not successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"error"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"},"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}}},"tags":["System Health Monitoring"]}},"/health/disk":{"get":{"operationId":"HealthController_check","parameters":[],"responses":{"200":{"description":"The Health Check is successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}},"503":{"description":"The Health Check is not successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"error"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"},"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}}},"tags":["System Health Monitoring"]}},"/health/prisma":{"get":{"operationId":"HealthController_prismaCheck","parameters":[],"responses":{"200":{"description":"The Health Check is successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}},"503":{"description":"The Health Check is not successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"error"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"},"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}}},"tags":["System Health Monitoring"]}},"/health":{"get":{"operationId":"HealthController_checkAll","parameters":[],"responses":{"200":{"description":"The Health Check is successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}},"503":{"description":"The Health Check is not successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"error"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"},"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}}},"tags":["System Health Monitoring"]}},"/admin/auth/login":{"post":{"operationId":"AdminAuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminLoginRequestDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminLoginResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]}],"tags":["Admin Auth"]}},"/admin/auth/login-firebase":{"post":{"operationId":"AdminAuthController_loginFirebase","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminLoginFirebaseRequestDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminLoginResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]}],"tags":["Admin Auth"]}},"/admin/auth/refresh":{"post":{"operationId":"AdminAuthController_refresh","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminRefreshRequestDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminRefreshResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]}],"tags":["Admin Auth"]}},"/admin/auth/logout":{"post":{"operationId":"AdminAuthController_logout","parameters":[],"responses":{"201":{"description":""}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Admin Auth"]}},"/admin/auth/me":{"get":{"operationId":"AdminAuthController_getAdminDetails","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminDetailResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Admin Auth"]}},"/admin/auth/enable-login":{"post":{"operationId":"AdminAuthController_enableLogin","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminEnableLoginRequestDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminEnableLoginResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Admin Auth"]}},"/admin/users":{"post":{"operationId":"AdminUsersController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAdminUserDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAdminUserResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Admin Users"]},"get":{"operationId":"AdminUsersController_findAll","parameters":[{"name":"skip","required":false,"in":"query","description":"Number of records to skip","schema":{"default":0,"type":"number"}},{"name":"take","required":false,"in":"query","description":"Number of records to take","schema":{"default":10,"type":"number"}},{"name":"sortOrder","required":false,"in":"query","description":"Sort direction","schema":{"default":"asc","type":"string","enum":["asc","desc"]}},{"name":"includeInActive","required":false,"in":"query","description":"Include deactivated records","schema":{"default":false,"type":"boolean"}},{"name":"email","required":false,"in":"query","description":"Email of the admin user","schema":{"type":"string"}},{"name":"name","required":false,"in":"query","description":"Name of the admin user","schema":{"type":"string"}},{"name":"sortBy","required":false,"in":"query","description":"Sort by","schema":{"type":"string","enum":["id","name","email","createdAt","updatedAt"]}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListAdminUsersResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Admin Users"]}},"/admin/users/{id}":{"get":{"operationId":"AdminUsersController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailAdminUserResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Admin Users"]},"put":{"operationId":"AdminUsersController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAdminUserDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAdminUserResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Admin Users"]},"delete":{"operationId":"AdminUsersController_deactivate","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Admin Users"]}},"/admin/users/{id}/activate":{"put":{"operationId":"AdminUsersController_activate","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Admin Users"]}},"/admin/users/{id}/reinvite":{"post":{"operationId":"AdminUsersController_reinvite","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Admin Users"]}},"/admin/auth/password/change":{"post":{"operationId":"AdminAuthPasswordController_changePassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminChangePasswordRequestDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminChangePasswordResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Admin Auth Password"]}},"/admin/auth/password/forgot":{"post":{"operationId":"AdminAuthPasswordController_forgotPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminForgotPasswordRequestDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminForgotPasswordResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]}],"tags":["Admin Auth Password"]}},"/admin/auth/password/reset":{"post":{"operationId":"AdminAuthPasswordController_resetPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminResetPasswordRequestDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminResetPasswordResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]}],"tags":["Admin Auth Password"]}},"/admin/auth/password/create":{"post":{"operationId":"AdminAuthPasswordController_createPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminCreatePasswordRequestDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminCreatePasswordResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Admin Auth Password"]}},"/branch":{"post":{"operationId":"BranchController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBranchDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBranchResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Branch"]},"get":{"operationId":"BranchController_findAll","parameters":[{"name":"skip","required":false,"in":"query","description":"Number of records to skip","schema":{"default":0,"type":"number"}},{"name":"take","required":false,"in":"query","description":"Number of records to take","schema":{"default":10,"type":"number"}},{"name":"sortOrder","required":false,"in":"query","description":"Sort direction","schema":{"default":"asc","type":"string","enum":["asc","desc"]}},{"name":"includeInActive","required":false,"in":"query","description":"Include deactivated records","schema":{"default":false,"type":"boolean"}},{"name":"code","required":false,"in":"query","description":"code","schema":{"type":"string"}},{"name":"name","required":false,"in":"query","description":"name","schema":{"type":"string"}},{"name":"sortBy","required":false,"in":"query","description":"Sort by","schema":{"type":"string","enum":["id","code","name","createdAt","updatedAt"]}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListBranchesResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"optional-jwt":[]}],"tags":["Branch"]}},"/branch/{id}":{"get":{"operationId":"BranchController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"includeInActive","required":false,"in":"query","description":"Include deactivated records (admins only)","schema":{"default":false,"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailBranchesResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"optional-jwt":[]}],"tags":["Branch"]},"patch":{"operationId":"BranchController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBranchDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBranchResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Branch"]},"delete":{"operationId":"BranchController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Branch"]}},"/branch/{id}/deactivate":{"delete":{"operationId":"BranchController_deactivate","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Branch"]}},"/branch/{id}/activate":{"patch":{"operationId":"BranchController_activate","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Branch"]}},"/area":{"post":{"operationId":"AreaController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAreaDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAreaResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Area"]},"get":{"operationId":"AreaController_findAll","parameters":[{"name":"skip","required":false,"in":"query","description":"Number of records to skip","schema":{"default":0,"type":"number"}},{"name":"take","required":false,"in":"query","description":"Number of records to take","schema":{"default":10,"type":"number"}},{"name":"sortOrder","required":false,"in":"query","description":"Sort direction","schema":{"default":"asc","type":"string","enum":["asc","desc"]}},{"name":"includeInActive","required":false,"in":"query","description":"Include deactivated records","schema":{"default":false,"type":"boolean"}},{"name":"branchId","required":false,"in":"query","description":"branchId","schema":{"type":"string"}},{"name":"alias","required":false,"in":"query","description":"alias","schema":{"type":"string"}},{"name":"code","required":false,"in":"query","description":"code","schema":{"type":"string"}},{"name":"name","required":false,"in":"query","description":"name","schema":{"type":"string"}},{"name":"hasVan","required":false,"in":"query","description":"hasVan","schema":{"type":"boolean"}},{"name":"hasBoysVan","required":false,"in":"query","description":"hasBoysVan","schema":{"type":"boolean"}},{"name":"sortBy","required":false,"in":"query","description":"Sort by","schema":{"type":"string","enum":["id","branchId","code","name","createdAt","updatedAt"]}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListAreasResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"optional-jwt":[]}],"tags":["Area"]}},"/area/{id}":{"get":{"operationId":"AreaController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"includeInActive","required":false,"in":"query","description":"Include deactivated records (admins only)","schema":{"default":false,"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailAreasResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"optional-jwt":[]}],"tags":["Area"]},"patch":{"operationId":"AreaController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAreaDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAreaResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Area"]},"delete":{"operationId":"AreaController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Area"]}},"/area/{id}/deactivate":{"delete":{"operationId":"AreaController_deactivate","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Area"]}},"/area/{id}/activate":{"patch":{"operationId":"AreaController_activate","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Area"]}},"/session":{"post":{"operationId":"SessionController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSessionDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSessionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Session"]},"get":{"operationId":"SessionController_findAll","parameters":[{"name":"skip","required":false,"in":"query","description":"Number of records to skip","schema":{"default":0,"type":"number"}},{"name":"take","required":false,"in":"query","description":"Number of records to take","schema":{"default":10,"type":"number"}},{"name":"sortOrder","required":false,"in":"query","description":"Sort direction","schema":{"default":"asc","type":"string","enum":["asc","desc"]}},{"name":"includeInActive","required":false,"in":"query","description":"Include deactivated records","schema":{"default":false,"type":"boolean"}},{"name":"name","required":false,"in":"query","description":"name","schema":{"type":"string"}},{"name":"sortBy","required":false,"in":"query","description":"Sort by","schema":{"type":"string","enum":["id","name","createdAt","updatedAt"]}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListSessionsResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"optional-jwt":[]}],"tags":["Session"]}},"/session/{id}":{"get":{"operationId":"SessionController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"includeInActive","required":false,"in":"query","description":"Include deactivated records (admins only)","schema":{"default":false,"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailSessionsResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"optional-jwt":[]}],"tags":["Session"]},"patch":{"operationId":"SessionController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSessionDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSessionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Session"]},"delete":{"operationId":"SessionController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Session"]}},"/session/{id}/deactivate":{"delete":{"operationId":"SessionController_deactivate","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Session"]}},"/session/{id}/activate":{"patch":{"operationId":"SessionController_activate","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Session"]}},"/attendance/days":{"get":{"operationId":"AttendanceController_listDays","parameters":[{"name":"skip","required":false,"in":"query","description":"Number of records to skip","schema":{"default":0,"type":"number"}},{"name":"take","required":false,"in":"query","description":"Number of records to take","schema":{"default":10,"type":"number"}},{"name":"sortOrder","required":false,"in":"query","description":"Sort direction","schema":{"default":"asc","type":"string","enum":["asc","desc"]}},{"name":"includeInActive","required":false,"in":"query","description":"Include deactivated records","schema":{"default":false,"type":"boolean"}},{"name":"sessionId","required":true,"in":"query","description":"sessionId","schema":{"type":"string"}},{"name":"sortBy","required":false,"in":"query","description":"Sort by","schema":{"type":"string","enum":["date","createdAt","updatedAt"]}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListAttendanceDaysResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Attendance"]}},"/attendance/days/{attendanceDayId}/records":{"post":{"operationId":"AttendanceController_bulkUpsert","parameters":[{"name":"attendanceDayId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkUpsertAttendanceRecordsDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkUpsertAttendanceRecordsResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Attendance"]}},"/attendance/days/{attendanceDayId}/summary":{"get":{"operationId":"AttendanceController_summary","parameters":[{"name":"attendanceDayId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AttendanceSummaryResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Attendance"]}},"/attendance/student/{studentId}":{"get":{"operationId":"AttendanceController_studentHistory","parameters":[{"name":"studentId","required":true,"in":"path","schema":{"type":"string"}},{"name":"sessionId","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentAttendanceHistoryResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Attendance"]}},"/class-level":{"post":{"operationId":"ClassLevelController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateClassLevelDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateClassLevelResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Class Level"]},"get":{"operationId":"ClassLevelController_findAll","parameters":[{"name":"skip","required":false,"in":"query","description":"Number of records to skip","schema":{"default":0,"type":"number"}},{"name":"take","required":false,"in":"query","description":"Number of records to take","schema":{"default":10,"type":"number"}},{"name":"sortOrder","required":false,"in":"query","description":"Sort direction","schema":{"default":"asc","type":"string","enum":["asc","desc"]}},{"name":"includeInActive","required":false,"in":"query","description":"Include deactivated records","schema":{"default":false,"type":"boolean"}},{"name":"age","required":false,"in":"query","description":"age","schema":{"type":"number"}},{"name":"code","required":false,"in":"query","description":"code","schema":{"type":"string"}},{"name":"name","required":false,"in":"query","description":"name","schema":{"type":"string"}},{"name":"gender","required":false,"in":"query","description":"gender","schema":{"type":"string","enum":["FEMALE","MALE"]}},{"name":"sortBy","required":false,"in":"query","description":"Sort by","schema":{"type":"string","enum":["id","age","code","name","gender","sortOrder","createdAt","updatedAt"]}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListClassLevelsResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"optional-jwt":[]}],"tags":["Class Level"]}},"/class-level/{id}":{"get":{"operationId":"ClassLevelController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"includeInActive","required":false,"in":"query","description":"Include deactivated records (admins only)","schema":{"default":false,"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailClassLevelsResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"optional-jwt":[]}],"tags":["Class Level"]},"patch":{"operationId":"ClassLevelController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateClassLevelDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateClassLevelResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Class Level"]},"delete":{"operationId":"ClassLevelController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Class Level"]}},"/class-level/{id}/deactivate":{"delete":{"operationId":"ClassLevelController_deactivate","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Class Level"]}},"/class-level/{id}/activate":{"patch":{"operationId":"ClassLevelController_activate","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Class Level"]}},"/admissions/search/legacy":{"get":{"operationId":"AdmissionsController_searchLegacy","parameters":[{"name":"skip","required":false,"in":"query","description":"Number of records to skip","schema":{"default":0,"type":"number"}},{"name":"take","required":false,"in":"query","description":"Number of records to take","schema":{"default":10,"type":"number"}},{"name":"sortOrder","required":false,"in":"query","description":"Sort direction","schema":{"default":"asc","type":"string","enum":["asc","desc"]}},{"name":"includeInActive","required":false,"in":"query","description":"Include deactivated records","schema":{"default":false,"type":"boolean"}},{"name":"query","required":true,"in":"query","description":"Search query (GR, phone, name, father name)","schema":{"type":"string"}},{"name":"sortBy","required":false,"in":"query","description":"Sort by","schema":{"type":"string","enum":["grNo","name","fathersName","phoneNumber","createdAt","updatedAt"]}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchLegacyAdmissionsResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]}],"tags":["Admissions"]}},"/admissions":{"post":{"operationId":"AdmissionsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAdmissionDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAdmissionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]}],"tags":["Admissions"]},"get":{"operationId":"AdmissionsController_findAll","parameters":[{"name":"skip","required":false,"in":"query","description":"Number of records to skip","schema":{"default":0,"type":"number"}},{"name":"take","required":false,"in":"query","description":"Number of records to take","schema":{"default":10,"type":"number"}},{"name":"sortOrder","required":false,"in":"query","description":"Sort direction","schema":{"default":"asc","type":"string","enum":["asc","desc"]}},{"name":"includeInActive","required":false,"in":"query","description":"Include deactivated records","schema":{"default":false,"type":"boolean"}},{"name":"sessionId","required":false,"in":"query","description":"sessionId","schema":{"type":"string"}},{"name":"grNumber","required":false,"in":"query","description":"grNumber (exact match)","schema":{"type":"string"}},{"name":"name","required":false,"in":"query","description":"name (contains)","schema":{"type":"string"}},{"name":"fatherName","required":false,"in":"query","description":"fatherName (contains)","schema":{"type":"string"}},{"name":"phone","required":false,"in":"query","description":"phone (contains)","schema":{"type":"string"}},{"name":"schoolName","required":false,"in":"query","description":"schoolName (contains)","schema":{"type":"string"}},{"name":"classLevelId","required":false,"in":"query","description":"classLevelId","schema":{"type":"string"}},{"name":"status","required":false,"in":"query","schema":{"type":"string","enum":["UNVERIFIED","VERIFIED","REJECTED","DUPLICATE_MERGED"]}},{"name":"isFeePaid","required":false,"in":"query","description":"isFeePaid","schema":{"type":"boolean"}},{"name":"sortBy","required":false,"in":"query","description":"Sort by","schema":{"type":"string","enum":["createdAt","updatedAt","status","isFeePaid"]}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListAdmissionsResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]}],"tags":["Admissions"]}},"/admissions/{id}":{"get":{"operationId":"AdmissionsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"includeInActive","required":false,"in":"query","description":"Include deactivated records","schema":{"default":false,"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailAdmissionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]}],"tags":["Admissions"]},"patch":{"operationId":"AdmissionsController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAdmissionDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAdmissionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]}],"tags":["Admissions"]},"delete":{"operationId":"AdmissionsController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]}],"tags":["Admissions"]}},"/admissions/{id}/status":{"patch":{"operationId":"AdmissionsController_updateStatus","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAdmissionStatusDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAdmissionStatusResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]}],"tags":["Admissions"]}},"/admissions/{id}/fee-paid":{"patch":{"operationId":"AdmissionsController_markFeePaid","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarkFeePaidDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarkFeePaidResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]}],"tags":["Admissions"]}},"/admissions/{id}/finalize":{"patch":{"operationId":"AdmissionsController_finalize","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FinalizeAdmissionDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FinalizeAdmissionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]}],"tags":["Admissions"]}},"/interactions/template/{studentId}":{"get":{"operationId":"InteractionsController_getTemplate","parameters":[{"name":"studentId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetInteractionTemplateResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Interactions"]}},"/interactions":{"post":{"operationId":"InteractionsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateInteractionDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateInteractionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Interactions"]}},"/question-set":{"post":{"operationId":"QuestionSetController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateQuestionSetDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateQuestionSetResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Question Set"]},"get":{"operationId":"QuestionSetController_findAll","parameters":[{"name":"skip","required":false,"in":"query","description":"Number of records to skip","schema":{"default":0,"type":"number"}},{"name":"take","required":false,"in":"query","description":"Number of records to take","schema":{"default":10,"type":"number"}},{"name":"sortOrder","required":false,"in":"query","description":"Sort direction","schema":{"default":"asc","type":"string","enum":["asc","desc"]}},{"name":"includeInActive","required":false,"in":"query","description":"Include deactivated records","schema":{"default":false,"type":"boolean"}},{"name":"sessionId","required":false,"in":"query","description":"sessionId","schema":{"type":"string"}},{"name":"classLevelId","required":false,"in":"query","description":"classLevelId","schema":{"type":"string"}},{"name":"title","required":false,"in":"query","description":"title (contains)","schema":{"type":"string"}},{"name":"sortBy","required":false,"in":"query","description":"Sort by","schema":{"type":"string","enum":["id","title","createdAt","updatedAt"]}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListQuestionSetsResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"optional-jwt":[]}],"tags":["Question Set"]}},"/question-set/{id}":{"get":{"operationId":"QuestionSetController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"includeInActive","required":false,"in":"query","description":"Include deactivated records (admins only)","schema":{"default":false,"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailQuestionSetsResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"optional-jwt":[]}],"tags":["Question Set"]},"patch":{"operationId":"QuestionSetController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateQuestionSetDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateQuestionSetResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Question Set"]},"delete":{"operationId":"QuestionSetController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Question Set"]}},"/question-set/{id}/deactivate":{"delete":{"operationId":"QuestionSetController_deactivate","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Question Set"]}},"/question-set/{id}/activate":{"patch":{"operationId":"QuestionSetController_activate","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Question Set"]}},"/legacy-student-import/import":{"post":{"operationId":"LegacyStudentImportController_importCsv","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/ImportLegacyStudentsRequestDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportLegacyStudentsResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Legacy Student Import"]}},"/legacy-student-import":{"get":{"operationId":"LegacyStudentImportController_findAll","parameters":[{"name":"skip","required":false,"in":"query","description":"Skip records for pagination","schema":{"type":"number"}},{"name":"take","required":false,"in":"query","description":"Take records for pagination","schema":{"type":"number"}},{"name":"name","required":false,"in":"query","description":"Search by name","schema":{"type":"string"}},{"name":"fathersName","required":false,"in":"query","description":"Search by father's name","schema":{"type":"string"}},{"name":"phoneNumber","required":false,"in":"query","description":"Search by phone number","schema":{"type":"string"}},{"name":"grNo","required":false,"in":"query","description":"Search by GR number","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListLegacyStudentsResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Legacy Student Import"]}},"/legacy-student-import/clear":{"delete":{"operationId":"LegacyStudentImportController_clear","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClearLegacyStudentsRequestDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClearLegacyStudentsResponseDto"}}}}},"security":[{"x-api-key":[]},{"x-channel":[]},{"admin-jwt":[]}],"tags":["Legacy Student Import"]}}},"info":{"title":"dr-core-service","description":"","version":"1.0.0","contact":{}},"tags":[],"servers":[{"url":"http://localhost:4000","description":"Local"}],"components":{"securitySchemes":{"user-jwt":{"scheme":"bearer","bearerFormat":"JWT","type":"http","description":"Enter JWT token for user authentication"},"admin-jwt":{"scheme":"bearer","bearerFormat":"JWT","type":"http","description":"Enter JWT token for admin authentication"},"optional-jwt":{"scheme":"bearer","bearerFormat":"JWT","type":"http","description":"Optional: Enter JWT token for user or admin authentication"},"x-channel":{"type":"apiKey","in":"header","name":"x-channel","description":"Required channel header for all requests"},"x-api-key":{"type":"apiKey","in":"header","name":"x-api-key","description":"Required API key header for all requests"}},"schemas":{"AdminLoginRequestDto":{"type":"object","properties":{"email":{"type":"string","description":"Admin email address","example":"admin@peekaboomall.com"},"password":{"type":"string","description":"Admin password","example":"password1!","minLength":6},"captchaToken":{"type":"string","description":"Captcha token (required when CAPTCHA_BYPASS is not enabled)"}},"required":["email","password"]},"AdminLoginResponseDto":{"type":"object","properties":{"accessToken":{"type":"string","description":"JWT access token"},"refreshToken":{"type":"string","description":"JWT refresh token"},"expiresIn":{"type":"number","description":"Token expiration time","example":12312312321},"requiresPasswordChange":{"type":"boolean","description":"Whether the user needs to change their temporary password","example":false}},"required":["accessToken","refreshToken","expiresIn","requiresPasswordChange"]},"AdminLoginFirebaseRequestDto":{"type":"object","properties":{"idToken":{"type":"string","description":"Firebase ID token"}},"required":["idToken"]},"AdminRefreshRequestDto":{"type":"object","properties":{"refreshToken":{"type":"string","description":"JWT refresh token"}},"required":["refreshToken"]},"AdminRefreshResponseDto":{"type":"object","properties":{"accessToken":{"type":"string","description":"JWT access token"},"refreshToken":{"type":"string","description":"JWT refresh token"},"expiresIn":{"type":"number","description":"Token expiration time","example":12312312321},"requiresPasswordChange":{"type":"boolean","description":"Whether the user needs to change their temporary password","example":false}},"required":["accessToken","refreshToken","expiresIn","requiresPasswordChange"]},"AdminUser":{"type":"object","properties":{"id":{"type":"string","description":"The ID of the admin user"},"name":{"type":"string","description":"The name of the admin user"},"email":{"type":"string","description":"The email of the admin user"},"role":{"type":"string","description":"The role of the admin user"},"isActive":{"type":"boolean","description":"Whether the admin user is active"},"forcePasswordChange":{"type":"boolean","description":"Whether the admin user is forced to change their password"},"failedLoginAttempts":{"type":"number","description":"Count of consecutive failed login attempts"},"isLoginDisabled":{"type":"boolean","description":"Whether login is disabled due to failed attempts"},"createdAt":{"format":"date-time","type":"string","description":"When the admin user was created"},"updatedAt":{"format":"date-time","type":"string","description":"When the admin user was last updated"},"tempPassword":{"type":"string","description":"The temporary password of the admin user, used for initial login"}},"required":["id","name","email","role","isActive","forcePasswordChange","failedLoginAttempts","isLoginDisabled","createdAt"]},"AdminDetailResponseDto":{"type":"object","properties":{"data":{"description":"Admin user data","allOf":[{"$ref":"#/components/schemas/AdminUser"}]}},"required":["data"]},"AdminEnableLoginRequestDto":{"type":"object","properties":{"adminUserId":{"type":"string","description":"Admin user id to re-enable login for"}},"required":["adminUserId"]},"AdminEnableLoginResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"}},"required":["message"]},"CreateAdminUserDto":{"type":"object","properties":{"name":{"type":"string","description":"Admin name","example":"John Doe"},"email":{"type":"string","description":"Admin email address","example":"admin@example.com"}},"required":["name","email"]},"CreateAdminUserResponseDto":{"type":"object","properties":{"data":{"description":"Admin user data","allOf":[{"$ref":"#/components/schemas/AdminUser"}]}},"required":["data"]},"ListAdminUsersResponseDto":{"type":"object","properties":{"count":{"type":"number","description":"Total number of records"},"data":{"type":"array","items":{"$ref":"#/components/schemas/AdminUser"}}},"required":["count","data"]},"DetailAdminUserResponseDto":{"type":"object","properties":{"data":{"description":"Admin user data","allOf":[{"$ref":"#/components/schemas/AdminUser"}]}},"required":["data"]},"UpdateAdminUserDto":{"type":"object","properties":{"name":{"type":"string","description":"Admin name","example":"John Doe"},"email":{"type":"string","description":"Admin email address","example":"admin@example.com"}}},"UpdateAdminUserResponseDto":{"type":"object","properties":{"data":{"description":"Admin user data","allOf":[{"$ref":"#/components/schemas/AdminUser"}]}},"required":["data"]},"ActionResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"}},"required":["message"]},"AdminChangePasswordRequestDto":{"type":"object","properties":{"currentPassword":{"type":"string","description":"Current password","example":"currentPassword123"},"newPassword":{"type":"string","description":"New password","example":"newPassword123"}},"required":["currentPassword","newPassword"]},"AdminChangePasswordResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Success message","example":"Password changed successfully"}},"required":["message"]},"AdminForgotPasswordRequestDto":{"type":"object","properties":{"email":{"type":"string","description":"Admin email address","example":"admin@example.com"},"captchaToken":{"type":"string","description":"Captcha token (required when CAPTCHA_BYPASS is not enabled)"}},"required":["email"]},"AdminForgotPasswordResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Success message","example":"Password reset email sent successfully"},"token":{"type":"string","description":"Reset token","example":"abc123def456..."}},"required":["message","token"]},"AdminResetPasswordRequestDto":{"type":"object","properties":{"token":{"type":"string","description":"Reset token received via email","example":"abc123def456..."},"newPassword":{"type":"string","description":"New password","example":"newPassword123!"},"captchaToken":{"type":"string","description":"Captcha token (required when CAPTCHA_BYPASS is not enabled)"}},"required":["token","newPassword"]},"AdminResetPasswordResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Success message","example":"Password reset successfully"}},"required":["message"]},"AdminCreatePasswordRequestDto":{"type":"object","properties":{"newPassword":{"type":"string","description":"New password to replace temporary password","example":"newSecurePassword123"}},"required":["newPassword"]},"AdminCreatePasswordResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Success message","example":"Password created successfully"}},"required":["message"]},"CreateBranchDto":{"type":"object","properties":{"code":{"type":"string","description":"code"},"name":{"type":"string","description":"name"}},"required":["code","name"]},"AdminUserBase":{"type":"object","properties":{"id":{"type":"string","description":"The ID of the admin user"},"name":{"type":"string","description":"The name of the admin user"},"email":{"type":"string","description":"The email of the admin user"}},"required":["id","name","email"]},"Branch":{"type":"object","properties":{"id":{"type":"string","description":"id"},"code":{"type":"string","description":"code"},"name":{"type":"string","description":"name"},"isActive":{"type":"boolean","description":"isActive"},"createdAt":{"format":"date-time","type":"string","description":"createdAt"},"updatedAt":{"format":"date-time","type":"string","description":"updatedAt"},"createdBy":{"description":"createdBy","allOf":[{"$ref":"#/components/schemas/AdminUserBase"}]},"updatedBy":{"description":"updatedBy","allOf":[{"$ref":"#/components/schemas/AdminUserBase"}]}},"required":["id","code","name","isActive","createdAt"]},"CreateBranchResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"$ref":"#/components/schemas/Branch"}},"required":["message","data"]},"ListBranchesResponseDto":{"type":"object","properties":{"count":{"type":"number","description":"Total number of records"},"data":{"type":"array","items":{"$ref":"#/components/schemas/Branch"}}},"required":["count","data"]},"DetailBranchesResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"$ref":"#/components/schemas/Branch"}},"required":["message","data"]},"UpdateBranchDto":{"type":"object","properties":{"code":{"type":"string","description":"code"},"name":{"type":"string","description":"name"}}},"UpdateBranchResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"$ref":"#/components/schemas/Branch"}},"required":["message"]},"CreateAreaDto":{"type":"object","properties":{"branchId":{"type":"string","description":"branchId"},"alias":{"type":"string","description":"alias"},"code":{"type":"string","description":"code"},"name":{"type":"string","description":"name"},"hasVan":{"type":"boolean","description":"hasVan","default":false},"hasBoysVan":{"type":"boolean","description":"hasBoysVan","default":false}},"required":["branchId","alias","code","name"]},"AreaBranch":{"type":"object","properties":{"id":{"type":"string","description":"id"},"code":{"type":"string","description":"code"},"name":{"type":"string","description":"name"}},"required":["id","code","name"]},"Area":{"type":"object","properties":{"id":{"type":"string","description":"id"},"branch":{"description":"branch","allOf":[{"$ref":"#/components/schemas/AreaBranch"}]},"alias":{"type":"string","description":"alias"},"code":{"type":"string","description":"code"},"name":{"type":"string","description":"name"},"hasVan":{"type":"boolean","description":"hasVan"},"hasBoysVan":{"type":"boolean","description":"hasBoysVan"},"lastYearTotal":{"type":"number","description":"lastYearTotal"},"isActive":{"type":"boolean","description":"isActive"},"createdAt":{"format":"date-time","type":"string","description":"createdAt"},"updatedAt":{"format":"date-time","type":"string","description":"updatedAt"},"createdBy":{"description":"createdBy","allOf":[{"$ref":"#/components/schemas/AdminUserBase"}]},"updatedBy":{"description":"updatedBy","allOf":[{"$ref":"#/components/schemas/AdminUserBase"}]}},"required":["id","branch","alias","code","name","hasVan","hasBoysVan","lastYearTotal","isActive","createdAt"]},"CreateAreaResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"$ref":"#/components/schemas/Area"}},"required":["message","data"]},"ListAreasResponseDto":{"type":"object","properties":{"count":{"type":"number","description":"Total number of records"},"data":{"type":"array","items":{"$ref":"#/components/schemas/Area"}}},"required":["count","data"]},"DetailAreasResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"$ref":"#/components/schemas/Area"}},"required":["message","data"]},"UpdateAreaDto":{"type":"object","properties":{"branchId":{"type":"string","description":"branchId"},"alias":{"type":"string","description":"alias"},"code":{"type":"string","description":"code"},"name":{"type":"string","description":"name"},"hasVan":{"type":"boolean","description":"hasVan"},"hasBoysVan":{"type":"boolean","description":"hasBoysVan"}}},"UpdateAreaResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"$ref":"#/components/schemas/Area"}},"required":["message"]},"CreateSessionDto":{"type":"object","properties":{"name":{"type":"string","description":"name"},"attendanceDays":{"type":"number","description":"attendanceDays","default":20},"startsAt":{"format":"date-time","type":"string","description":"startsAt"},"endsAt":{"format":"date-time","type":"string","description":"endsAt"}},"required":["name"]},"Session":{"type":"object","properties":{"id":{"type":"string","description":"id"},"name":{"type":"string","description":"name"},"attendanceDays":{"type":"number","description":"attendanceDays"},"startsAt":{"format":"date-time","type":"string","description":"startsAt"},"endsAt":{"format":"date-time","type":"string","description":"endsAt"},"isActive":{"type":"boolean","description":"isActive"},"createdAt":{"format":"date-time","type":"string","description":"createdAt"},"updatedAt":{"format":"date-time","type":"string","description":"updatedAt"},"createdBy":{"description":"createdBy","allOf":[{"$ref":"#/components/schemas/AdminUserBase"}]},"updatedBy":{"description":"updatedBy","allOf":[{"$ref":"#/components/schemas/AdminUserBase"}]}},"required":["id","name","attendanceDays","isActive","createdAt"]},"CreateSessionResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"$ref":"#/components/schemas/Session"}},"required":["message","data"]},"ListSessionsResponseDto":{"type":"object","properties":{"count":{"type":"number","description":"Total number of records"},"data":{"type":"array","items":{"$ref":"#/components/schemas/Session"}}},"required":["count","data"]},"DetailSessionsResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"$ref":"#/components/schemas/Session"}},"required":["message","data"]},"UpdateSessionDto":{"type":"object","properties":{"name":{"type":"string","description":"name"},"attendanceDays":{"type":"number","description":"attendanceDays"},"startsAt":{"format":"date-time","type":"string","description":"startsAt"},"endsAt":{"format":"date-time","type":"string","description":"endsAt"}}},"UpdateSessionResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"$ref":"#/components/schemas/Session"}},"required":["message"]},"AttendanceDay":{"type":"object","properties":{"id":{"type":"string","description":"id"},"sessionId":{"type":"string","description":"sessionId"},"date":{"format":"date-time","type":"string","description":"date"},"isActive":{"type":"boolean","description":"isActive"},"createdAt":{"format":"date-time","type":"string","description":"createdAt"},"updatedAt":{"format":"date-time","type":"string","description":"updatedAt"}},"required":["id","sessionId","date","isActive","createdAt"]},"ListAttendanceDaysResponseDto":{"type":"object","properties":{"count":{"type":"number","description":"Total number of records"},"data":{"type":"array","items":{"$ref":"#/components/schemas/AttendanceDay"}}},"required":["count","data"]},"BulkAttendanceRecordItemDto":{"type":"object","properties":{"admissionId":{"type":"string","description":"admissionId"},"status":{"type":"string","enum":["PRESENT","ABSENT","LATE","EXCUSED"]}},"required":["admissionId","status"]},"BulkUpsertAttendanceRecordsDto":{"type":"object","properties":{"records":{"type":"array","items":{"$ref":"#/components/schemas/BulkAttendanceRecordItemDto"}}},"required":["records"]},"BulkUpsertAttendanceRecordsResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"}},"required":["message"]},"AttendanceSummaryRow":{"type":"object","properties":{"classLevelId":{"type":"string","description":"classLevelId"},"status":{"type":"string","enum":["PRESENT","ABSENT","LATE","EXCUSED"]},"count":{"type":"number","description":"count"}},"required":["classLevelId","status","count"]},"AttendanceSummaryResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"type":"array","items":{"$ref":"#/components/schemas/AttendanceSummaryRow"}}},"required":["message","data"]},"StudentAttendanceHistoryRow":{"type":"object","properties":{"attendanceDayId":{"type":"string","description":"attendanceDayId"},"date":{"format":"date-time","type":"string","description":"date"},"status":{"type":"string","enum":["PRESENT","ABSENT","LATE","EXCUSED"]}},"required":["attendanceDayId","date","status"]},"StudentAttendanceHistoryResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"type":"array","items":{"$ref":"#/components/schemas/StudentAttendanceHistoryRow"}}},"required":["message","data"]},"CreateClassLevelDto":{"type":"object","properties":{"age":{"type":"number","description":"age"},"code":{"type":"string","description":"code"},"name":{"type":"string","description":"name"},"gender":{"type":"string","description":"gender","enum":["FEMALE","MALE"]},"sortOrder":{"type":"number","description":"sortOrder","default":0}},"required":["age","code","name","gender"]},"ClassLevel":{"type":"object","properties":{"id":{"type":"string","description":"id"},"age":{"type":"number","description":"age"},"code":{"type":"string","description":"code"},"name":{"type":"string","description":"name"},"gender":{"type":"string","description":"gender","enum":["FEMALE","MALE"]},"sortOrder":{"type":"number","description":"sortOrder"},"isActive":{"type":"boolean","description":"isActive"},"createdAt":{"format":"date-time","type":"string","description":"createdAt"},"updatedAt":{"format":"date-time","type":"string","description":"updatedAt"},"createdBy":{"description":"createdBy","allOf":[{"$ref":"#/components/schemas/AdminUserBase"}]},"updatedBy":{"description":"updatedBy","allOf":[{"$ref":"#/components/schemas/AdminUserBase"}]}},"required":["id","age","code","name","gender","sortOrder","isActive","createdAt"]},"CreateClassLevelResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"$ref":"#/components/schemas/ClassLevel"}},"required":["message","data"]},"ListClassLevelsResponseDto":{"type":"object","properties":{"count":{"type":"number","description":"Total number of records"},"data":{"type":"array","items":{"$ref":"#/components/schemas/ClassLevel"}}},"required":["count","data"]},"DetailClassLevelsResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"$ref":"#/components/schemas/ClassLevel"}},"required":["message","data"]},"UpdateClassLevelDto":{"type":"object","properties":{"age":{"type":"number","description":"age"},"code":{"type":"string","description":"code"},"name":{"type":"string","description":"name"},"gender":{"type":"string","description":"gender","enum":["FEMALE","MALE"]},"sortOrder":{"type":"number","description":"sortOrder"}}},"UpdateClassLevelResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"$ref":"#/components/schemas/ClassLevel"}},"required":["message"]},"LegacyStudentRow":{"type":"object","properties":{"id":{"type":"string","description":"id"},"grNumber":{"type":"string","description":"grNumber (legacy gr_no)"},"name":{"type":"string","description":"name"},"fatherName":{"type":"string","description":"fatherName (legacy fathers_name)"},"dateOfBirth":{"format":"date-time","type":"string","description":"dateOfBirth"},"gender":{"type":"string","description":"gender (legacy free-form text)"},"phone":{"type":"string","description":"phone"},"identityNumber":{"type":"string","description":"identityNumber (legacy b_form_or_birth_certificate_no)"},"isVerified":{"type":"boolean","description":"isVerified"}},"required":["id"]},"SearchLegacyAdmissionsResponseDto":{"type":"object","properties":{"count":{"type":"number","description":"Total number of records"},"data":{"type":"array","items":{"$ref":"#/components/schemas/LegacyStudentRow"}}},"required":["count","data"]},"CreateAdmissionDto":{"type":"object","properties":{"sessionId":{"type":"string","description":"sessionId"},"legacyStudentId":{"type":"string","description":"legacyStudentId (optional for legacy prefill)"},"branchId":{"type":"string","description":"branchId"},"areaId":{"type":"string","description":"areaId"},"name":{"type":"string","description":"student name"},"fatherName":{"type":"string","description":"father/guardian name"},"dateOfBirth":{"format":"date-time","type":"string","description":"dateOfBirth"},"gender":{"type":"string","enum":["FEMALE","MALE"]},"phone":{"type":"string","description":"phone"},"alternatePhone":{"type":"string","description":"alternatePhone"},"address":{"type":"string","description":"address"},"identityNumber":{"type":"string","description":"identityNumber (B-Form/CNIC as text)"},"schoolName":{"type":"string","description":"schoolName"},"lastYearClass":{"type":"string","description":"lastYearClass"},"vanRequired":{"type":"boolean","description":"vanRequired","default":false},"isMarried":{"type":"boolean","description":"isMarried","default":false},"isWorking":{"type":"boolean","description":"isWorking","default":false},"identityProofAssetId":{"type":"string","description":"identityProofAssetId"},"photoAssetId":{"type":"string","description":"photoAssetId"}},"required":["sessionId","branchId","areaId","name","fatherName","dateOfBirth","gender","phone"]},"AdmissionSession":{"type":"object","properties":{"id":{"type":"string","description":"id"},"name":{"type":"string","description":"name"}},"required":["id","name"]},"AdmissionStudent":{"type":"object","properties":{"id":{"type":"string","description":"id"},"grNumber":{"type":"string","description":"grNumber"},"name":{"type":"string","description":"name"},"fatherName":{"type":"string","description":"fatherName"},"dateOfBirth":{"format":"date-time","type":"string","description":"dateOfBirth"},"gender":{"type":"string","enum":["FEMALE","MALE"]},"phone":{"type":"string","description":"phone"},"alternatePhone":{"type":"string","description":"alternatePhone"},"address":{"type":"string","description":"address"},"identityNumber":{"type":"string","description":"identityNumber"},"identityProofAssetId":{"type":"string","description":"identityProofAssetId"},"photoAssetId":{"type":"string","description":"photoAssetId"}},"required":["id","grNumber","name","fatherName","dateOfBirth","gender","phone"]},"AdmissionBranch":{"type":"object","properties":{"id":{"type":"string","description":"id"},"code":{"type":"string","description":"code"},"name":{"type":"string","description":"name"}},"required":["id","code","name"]},"AdmissionArea":{"type":"object","properties":{"id":{"type":"string","description":"id"},"alias":{"type":"string","description":"alias"},"code":{"type":"string","description":"code"},"name":{"type":"string","description":"name"},"hasVan":{"type":"boolean","description":"hasVan"},"hasBoysVan":{"type":"boolean","description":"hasBoysVan"}},"required":["id","alias","code","name","hasVan","hasBoysVan"]},"AdmissionClassLevel":{"type":"object","properties":{"id":{"type":"string","description":"id"},"age":{"type":"number","description":"age"},"code":{"type":"string","description":"code"},"name":{"type":"string","description":"name"},"gender":{"type":"string","description":"gender","enum":["FEMALE","MALE"]}},"required":["id","age","code","name","gender"]},"Admission":{"type":"object","properties":{"id":{"type":"string","description":"id"},"status":{"type":"string","enum":["UNVERIFIED","VERIFIED","REJECTED","DUPLICATE_MERGED"]},"rejectedReason":{"type":"string","description":"rejectedReason"},"session":{"description":"session","allOf":[{"$ref":"#/components/schemas/AdmissionSession"}]},"student":{"description":"student","allOf":[{"$ref":"#/components/schemas/AdmissionStudent"}]},"branch":{"description":"branch","allOf":[{"$ref":"#/components/schemas/AdmissionBranch"}]},"area":{"description":"area","allOf":[{"$ref":"#/components/schemas/AdmissionArea"}]},"classLevel":{"description":"classLevel","allOf":[{"$ref":"#/components/schemas/AdmissionClassLevel"}]},"schoolName":{"type":"string","description":"schoolName"},"lastYearClass":{"type":"string","description":"lastYearClass"},"vanRequired":{"type":"boolean","description":"vanRequired"},"isMarried":{"type":"boolean","description":"isMarried"},"isWorking":{"type":"boolean","description":"isWorking"},"isFinalized":{"type":"boolean","description":"isFinalized"},"finalizedAt":{"format":"date-time","type":"string","description":"finalizedAt"},"finalizedByAdmin":{"description":"finalizedByAdmin","allOf":[{"$ref":"#/components/schemas/AdminUserBase"}]},"isFeePaid":{"type":"boolean","description":"isFeePaid"},"feePaidAt":{"format":"date-time","type":"string","description":"feePaidAt"},"feePaidByAdmin":{"description":"feePaidByAdmin","allOf":[{"$ref":"#/components/schemas/AdminUserBase"}]},"legacyStudentId":{"type":"string","description":"legacyStudentId"},"createdAt":{"format":"date-time","type":"string","description":"createdAt"},"updatedAt":{"format":"date-time","type":"string","description":"updatedAt"}},"required":["id","status","session","student","branch","area","classLevel","vanRequired","isMarried","isWorking","isFinalized","isFeePaid","createdAt"]},"CreateAdmissionResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"$ref":"#/components/schemas/Admission"}},"required":["message","data"]},"ListAdmissionsResponseDto":{"type":"object","properties":{"count":{"type":"number","description":"Total number of records"},"data":{"type":"array","items":{"$ref":"#/components/schemas/Admission"}}},"required":["count","data"]},"DetailAdmissionResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"$ref":"#/components/schemas/Admission"}},"required":["message","data"]},"UpdateAdmissionDto":{"type":"object","properties":{"branchId":{"type":"string","description":"branchId"},"areaId":{"type":"string","description":"areaId"},"name":{"type":"string","description":"student name"},"fatherName":{"type":"string","description":"father/guardian name"},"dateOfBirth":{"format":"date-time","type":"string","description":"dateOfBirth"},"gender":{"type":"string","enum":["FEMALE","MALE"]},"phone":{"type":"string","description":"phone"},"alternatePhone":{"type":"string","description":"alternatePhone"},"address":{"type":"string","description":"address"},"identityNumber":{"type":"string","description":"identityNumber"},"schoolName":{"type":"string","description":"schoolName"},"lastYearClass":{"type":"string","description":"lastYearClass"},"vanRequired":{"type":"boolean","description":"vanRequired"},"isMarried":{"type":"boolean","description":"isMarried"},"isWorking":{"type":"boolean","description":"isWorking"},"identityProofAssetId":{"type":"string","description":"identityProofAssetId"},"photoAssetId":{"type":"string","description":"photoAssetId"}}},"UpdateAdmissionResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"$ref":"#/components/schemas/Admission"}},"required":["message"]},"UpdateAdmissionStatusDto":{"type":"object","properties":{"status":{"type":"string","enum":["UNVERIFIED","VERIFIED","REJECTED","DUPLICATE_MERGED"]},"rejectedReason":{"type":"string","description":"rejectedReason (required when status=REJECTED)"},"adminUserId":{"type":"string","description":"adminUserId (optional, for audit fields)"}},"required":["status"]},"UpdateAdmissionStatusResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"$ref":"#/components/schemas/Admission"}},"required":["message","data"]},"MarkFeePaidDto":{"type":"object","properties":{"isFeePaid":{"type":"boolean","description":"isFeePaid"},"adminUserId":{"type":"string","description":"adminUserId (optional, for audit fields)"}},"required":["isFeePaid"]},"MarkFeePaidResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"$ref":"#/components/schemas/Admission"}},"required":["message","data"]},"FinalizeAdmissionDto":{"type":"object","properties":{"isFinalized":{"type":"boolean","description":"isFinalized"},"adminUserId":{"type":"string","description":"adminUserId (optional, for audit fields)"}},"required":["isFinalized"]},"FinalizeAdmissionResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"$ref":"#/components/schemas/Admission"}},"required":["message","data"]},"InteractionTemplateStudent":{"type":"object","properties":{"id":{"type":"string"},"grNumber":{"type":"string"},"name":{"type":"string"},"fatherName":{"type":"string"}},"required":["id","grNumber","name","fatherName"]},"InteractionTemplateAdmission":{"type":"object","properties":{"id":{"type":"string"},"sessionId":{"type":"string"},"classLevelId":{"type":"string"}},"required":["id","sessionId","classLevelId"]},"InteractionTemplateQuestionSet":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"}},"required":["id","title"]},"InteractionQuestion":{"type":"object","properties":{"id":{"type":"string","description":"Question id"},"prompt":{"type":"string","description":"Prompt to display to teacher"},"sortOrder":{"type":"number","description":"Sort order"}},"required":["id","prompt","sortOrder"]},"InteractionTemplate":{"type":"object","properties":{"student":{"$ref":"#/components/schemas/InteractionTemplateStudent"},"admission":{"$ref":"#/components/schemas/InteractionTemplateAdmission"},"questionSet":{"$ref":"#/components/schemas/InteractionTemplateQuestionSet"},"questions":{"type":"array","items":{"$ref":"#/components/schemas/InteractionQuestion"}}},"required":["student","admission","questionSet","questions"]},"GetInteractionTemplateResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"$ref":"#/components/schemas/InteractionTemplate"}},"required":["message","data"]},"CreateInteractionRatingDto":{"type":"object","properties":{"questionId":{"type":"string","description":"Question id"},"rating":{"type":"number","description":"Rating value (1..5)","minimum":1,"maximum":5},"notes":{"type":"string","description":"Optional notes for this question"}},"required":["questionId","rating"]},"CreateInteractionDto":{"type":"object","properties":{"studentId":{"type":"string","description":"Student id (from search / QR)"},"notes":{"type":"string","description":"Overall notes for interaction"},"ratings":{"type":"array","items":{"$ref":"#/components/schemas/CreateInteractionRatingDto"}}},"required":["studentId","ratings"]},"CreateInteractionResponseData":{"type":"object","properties":{"id":{"type":"string"},"admissionId":{"type":"string"}},"required":["id","admissionId"]},"CreateInteractionResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"$ref":"#/components/schemas/CreateInteractionResponseData"}},"required":["message","data"]},"CreateQuestionSetQuestionDto":{"type":"object","properties":{"prompt":{"type":"string","description":"prompt"},"sortOrder":{"type":"number","description":"sortOrder (defaults to array index)"}},"required":["prompt"]},"CreateQuestionSetDto":{"type":"object","properties":{"sessionId":{"type":"string","description":"sessionId"},"classLevelId":{"type":"string","description":"classLevelId"},"title":{"type":"string","description":"title"},"questions":{"description":"questions","type":"array","items":{"$ref":"#/components/schemas/CreateQuestionSetQuestionDto"}}},"required":["sessionId","classLevelId","title","questions"]},"QuestionSetSession":{"type":"object","properties":{"id":{"type":"string","description":"id"},"name":{"type":"string","description":"name"}},"required":["id","name"]},"QuestionSetClassLevel":{"type":"object","properties":{"id":{"type":"string","description":"id"},"age":{"type":"number","description":"age"},"code":{"type":"string","description":"code"},"name":{"type":"string","description":"name"},"gender":{"type":"string","description":"gender","enum":["FEMALE","MALE"]}},"required":["id","age","code","name","gender"]},"QuestionSetQuestion":{"type":"object","properties":{"id":{"type":"string","description":"id"},"prompt":{"type":"string","description":"prompt"},"sortOrder":{"type":"number","description":"sortOrder"},"isActive":{"type":"boolean","description":"isActive"},"createdAt":{"format":"date-time","type":"string","description":"createdAt"},"updatedAt":{"format":"date-time","type":"string","description":"updatedAt"}},"required":["id","prompt","sortOrder","isActive","createdAt"]},"QuestionSet":{"type":"object","properties":{"id":{"type":"string","description":"id"},"session":{"description":"session","allOf":[{"$ref":"#/components/schemas/QuestionSetSession"}]},"classLevel":{"description":"classLevel","allOf":[{"$ref":"#/components/schemas/QuestionSetClassLevel"}]},"title":{"type":"string","description":"title"},"questions":{"description":"questions","type":"array","items":{"$ref":"#/components/schemas/QuestionSetQuestion"}},"isActive":{"type":"boolean","description":"isActive"},"createdAt":{"format":"date-time","type":"string","description":"createdAt"},"updatedAt":{"format":"date-time","type":"string","description":"updatedAt"}},"required":["id","session","classLevel","title","questions","isActive","createdAt"]},"CreateQuestionSetResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"$ref":"#/components/schemas/QuestionSet"}},"required":["message","data"]},"ListQuestionSetsResponseDto":{"type":"object","properties":{"count":{"type":"number","description":"Total number of records"},"data":{"type":"array","items":{"$ref":"#/components/schemas/QuestionSet"}}},"required":["count","data"]},"DetailQuestionSetsResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"$ref":"#/components/schemas/QuestionSet"}},"required":["message","data"]},"UpdateQuestionSetDto":{"type":"object","properties":{"sessionId":{"type":"string","description":"sessionId"},"classLevelId":{"type":"string","description":"classLevelId"},"title":{"type":"string","description":"title"},"questions":{"description":"Replace all questions when provided (full replacement)","type":"array","items":{"$ref":"#/components/schemas/CreateQuestionSetQuestionDto"}}}},"UpdateQuestionSetResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"data":{"$ref":"#/components/schemas/QuestionSet"}},"required":["message"]},"ImportLegacyStudentsRequestDto":{"type":"object","properties":{"file":{"type":"string","format":"binary","description":"CSV file to import"}},"required":["file"]},"ImportLegacyStudentsResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"totalProcessed":{"type":"number","description":"Total records processed"},"successCount":{"type":"number","description":"Records successfully imported"},"skippedCount":{"type":"number","description":"Records skipped (duplicates)"},"errorCount":{"type":"number","description":"Records that failed to import"},"errors":{"description":"Error details","type":"array","items":{"type":"string"}}},"required":["message","totalProcessed","successCount","skippedCount","errorCount"]},"LegacyStudent":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier"},"name":{"type":"string","description":"Student name"},"fathersName":{"type":"string","description":"Father's name"},"dateOfBirth":{"format":"date-time","type":"string","description":"Date of birth"},"address":{"type":"string","description":"Address"},"area":{"type":"string","description":"Area"},"city":{"type":"string","description":"City"},"isSchoolGoing":{"type":"string","description":"Is school going"},"schoolName":{"type":"string","description":"School name"},"schoolClass":{"type":"string","description":"School class"},"previouslyAttendedMadressa":{"type":"string","description":"Previously attended madressa"},"previouslyAttendedYear":{"type":"string","description":"Previously attended year"},"previouslyAttendedClass":{"type":"string","description":"Previously attended class"},"phoneNumber":{"type":"string","description":"Phone number"},"whatsappNumber":{"type":"string","description":"WhatsApp number"},"gender":{"type":"string","description":"Gender"},"isMarried":{"type":"string","description":"Is married"},"isWorking":{"type":"string","description":"Is working"},"workType":{"type":"string","description":"Work type"},"emailAddress":{"type":"string","description":"Email address"},"isVanRequired":{"type":"string","description":"Is van required"},"isVerified":{"type":"boolean","description":"Is verified"},"cardPrinted":{"type":"boolean","description":"Card printed"},"vanStop":{"type":"string","description":"Van stop"},"bFormOrBirthCertificateNo":{"type":"string","description":"B-Form or birth certificate number"},"grNo":{"type":"string","description":"GR number"},"category":{"type":"string","description":"Category"},"imageUrl":{"type":"string","description":"Image URL"},"isFeesPaid":{"type":"string","description":"Is fees paid"},"updatedBy":{"type":"string","description":"Updated by"},"admissionYear":{"type":"string","description":"Admission year"},"createdAt":{"format":"date-time","type":"string","description":"Created at"},"updatedAt":{"format":"date-time","type":"string","description":"Updated at"}},"required":["id","createdAt"]},"ListLegacyStudentsResponseDto":{"type":"object","properties":{"count":{"type":"number","description":"Total count"},"data":{"description":"List of legacy students","type":"array","items":{"$ref":"#/components/schemas/LegacyStudent"}}},"required":["count","data"]},"ClearLegacyStudentsRequestDto":{"type":"object","properties":{"confirm":{"type":"boolean","description":"Confirm deletion"}},"required":["confirm"]},"ClearLegacyStudentsResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Message of the action"},"deletedCount":{"type":"number","description":"Number of records deleted"}},"required":["message","deletedCount"]}}}}